/* Dalam GameScreen.css */

.game-screen-container {
  display: flex;
  flex-direction: column;
  height: 100vh;
  width: 100vw;
  background-color: #2c3e50;
  font-family: Arial, sans-serif;
  overflow: hidden;
}

/* Status Bar */
.status-bar-container {
  flex-shrink: 0;
  background-color: #34495e;
  box-shadow: 0 2px 5px rgba(0,0,0,0.2);
  z-index: 100;
  padding: 1rem;
}

/* Main Game Area (Grid: Map Column | Sidebar Column) */
.game-main-area {
  flex-grow: 1;
  display: grid;
  /* Kolom pertama (map) akan fleksibel, kolom kedua (sidebar) tetap 300px */
  grid-template-columns: 1fr 300px;
  overflow: hidden;
  position: relative; /* Penting untuk overlay controls */
}

/* --- KUNCI UTAMA: Penyesuaian `game-map-column` --- */
.game-map-column {
  grid-column: 1;
  position: relative; /* Penting untuk absolute positioning joystick/button */
  overflow: hidden; /* Mencegah scroll jika ada elemen yang meluap */

  /* Gunakan Flexbox untuk memusatkan dan mengelola konten map */
  display: flex;
  justify-content: center; /* Memusatkan secara horizontal */
  align-items: center; /* Memusatkan secara vertikal */
  background-color: #1a2a3a; /* Latar belakang agar terlihat area kosong */

  /* Opsional: Batasi lebar maksimum kolom map */
  /* Ini akan mencegah map terlalu melebar dan menyebabkan letterboxing parah */
  /* Sesuaikan nilai ini. Misal, jika map Anda 1200x800, max-width 1200px bisa dicoba */
  max-width: 1300px; /* Contoh: Batasi lebar maksimum kolom map */
  margin: 0 auto; /* Pusatkan kolom map jika ada sisa ruang di game-main-area */
  
  /* Jika Anda punya rasio aspek pasti untuk gambar map (misal 1.5:1 atau 4:3),
     bisa gunakan padding-bottom trick untuk menjaga rasio aspek parent container.
     Ini akan membuat map lebih mengisi ruang.
     Hanya jika Anda tahu rasio aspek gambar map Anda dan ingin menjaganya.
     Kalau tidak, biarkan Flexbox dan max-width yang bekerja. */
}

/* Overlays: Joystick & Back Button */
.game-overlay-controls {
  position: absolute;
  bottom: 1.5rem; /* Sesuaikan jarak dari bawah */
  left: 1.5rem;  /* Sesuaikan jarak dari kiri */
  z-index: 50;
  display: flex;
  flex-direction: column;
  gap: 0.75rem; /* Sedikit lebih rapat */
  align-items: flex-start;
}

.back-to-main-map-button {
  padding: 0.8rem 1.5rem;
  background-color: #e74c3c;
  color: white;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  font-size: 1rem;
  transition: background-color 0.3s ease;
  box-shadow: 0 2px 5px rgba(0,0,0,0.2);
}

.back-to-main-map-button:hover {
  background-color: #c0392b;
}

/* Right Column: Sidebar */
.game-right-sidebar {
  grid-column: 2;
  display: flex;
  flex-direction: column;
  gap: 1.5rem;
  background-color: rgba(44, 62, 80, 0.9);
  padding: 1.5rem;
  box-shadow: -4px 0 10px rgba(0,0,0,0.4);
  z-index: 60;
  overflow-y: auto;
  box-sizing: border-box;
}

/* --- Responsive Adjustments --- */
@media (max-width: 1024px) {
  .game-screen-container {
    height: auto;
    overflow-y: auto;
  }

  .game-main-area {
    grid-template-columns: 1fr;
    grid-template-rows: auto auto; /* Map dan sidebar di baris terpisah */
    overflow: visible;
  }

  .game-map-column {
    grid-row: 1;
    max-width: none; /* Hilangkan batasan max-width di sini */
    height: 60vh; /* Tinggi yang fleksibel untuk map di layar kecil */
    min-height: 400px; /* Minimal tinggi map agar tidak terlalu kecil */
    margin: 0; /* Hapus margin auto */
  }

  .game-right-sidebar {
    grid-row: 2;
    width: 100%;
    max-width: none;
    box-shadow: 0 4px 10px rgba(0,0,0,0.4);
    border-top: 1px solid #34495e;
  }

  .game-overlay-controls {
    bottom: 1rem;
    left: 1rem;
    gap: 0.5rem;
  }
}

@media (max-width: 768px) {
  .game-map-column {
    height: 50vh;
    min-height: 300px;
  }
}

@media (max-width: 480px) {
  .game-map-column {
    height: 40vh;
    min-height: 250px;
  }
  .game-right-sidebar {
    padding: 1rem;
  }
}